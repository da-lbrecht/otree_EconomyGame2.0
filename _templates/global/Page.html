{{ extends "otree/Page.html" }}
{{ load otree static }}

{{ block global_styles }}
<link rel="stylesheet" href="{{ static 'global/style.css' }}" />
{{ endblock }}

{{ block global_scripts }}
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script>
  function redrawUtility(series_1, series_2) {
    Highcharts.chart('mu_chart', {

      chart: {
        animation: false // Update without animation
      },

      title: {
        text: '' // Fill title in quotes if needed
      },
      yAxis: {
        title: {
          text: 'Utility'
        }
      },

      xAxis: {
        title: {
          text: 'Remaining consumption time (seconds)'
        },
        min: 0
      },

      plotOptions: {
        series: {
          label: {
            enabled: false
          },
          animation: false
        }
      },

      series: [{
        data: series_1,
        type: 'line',
        name: 'Marginal utility schedule'

      },
      {
        data: series_2,
        type: 'scatter',
        name: 'Your current marginal utility'

      }],

      credits: {
        enabled: false
      },

    });
  }

  function redrawCost(series_1, series_2) {
    Highcharts.chart('mc_chart', {

      chart: {
        animation: false // Update without animation
      },

      title: {
        text: '' // Fill title in quotes if needed
      },
      yAxis: {
        title: {
          text: 'Costs'
        }
      },

      xAxis: {
        title: {
          text: 'Remaining production time (seconds)'
        },
        min: 0
      },

      plotOptions: {
        series: {
          label: {
            enabled: false
          },
          animation: false
        }
      },

      series: [{
        data: series_1,
        type: 'line',
        name: 'Marginal cost schedule'

      },
      {
        data: series_2,
        type: 'scatter',
        name: 'Your current marginal cost'

      }],

      credits: {
        enabled: false
      }

    });
  }
</script>
{{ endblock }}